## Flashcards

Description of MVP of flashcards functionality:

-When user navigates to /flashcards, they are presented one flashcard at a time, starting with the front of the flashcard.
-User can click on the flashcard to flip it over to the back.
-The back of the flashcard (in addition to having the answer) will have a green thumbs up button on the bottom right and a red thumbs down button on the bottom left.
-We will implement a spaced repetition algorithm to make sure the user is shown the flashcards they got wrong sooner than the ones they got right.
-For example, if a user gets a flashcard right multiple times in a row, the interval between shows will be progressively increase at greater intervals each time.
-If the user clicks the thumbs down button, this interval between shows of that flashcard will be reset to the initial interval.
-Information about where each flashcard is in the spaced repetition cycle will be saved in the Vercel KV database along with the flashcard data.

Later on, users will be able to:

-Edit the wording on the flashcards.
-Delete flashcards.
-Download flashcards as TSV file (with columns for front and back of flashcard, but no other data).


# Case Material Management System Specification

## Database Schema (Vercel KV)

### Articles
{
  "articles": {
    "article:<uuid>": {
      "id": "uuid",
      "text": "string", 
      "specialty": "string",
      "subtopic": "string",
      "dateAdded": "ISO timestamp"
    }
  }
}

### Specialties and Subtopics
{
  "specialties": {
    "specialty:<name>": {
      "name": "string",
      "subtopics": ["string"]
    }
  }
}

## Key Features

### 1. Admin Article Management Interface
- Protected route `/admin/articles`
- Only accessible to users with admin role in Clerk
- Features:
  - Add new article form with:
    - Text input (large text area)
    - Specialty dropdown (existing or new)
    - Subtopic dropdown (existing or new)
  - List of existing articles with delete capability
  - No edit functionality required initially

### 2. Case Simulation Selection
- Enhanced version of existing `/case-simulation-selection` page
- Two-tier dropdown system:
  1. Specialty dropdown
  2. Subtopic dropdown (enabled after specialty selection)
- Multiple subtopic selection capability
- "Select All" option for subtopics
- Random selection from chosen subtopics when simulation starts

### 3. Article Integration with LLM
- Selected article text will be incorporated into the LLM prompt
- No tracking of previously used articles needed

## API Endpoints

### Admin Routes
POST /api/articles
- Add new article
- Requires admin role

DELETE /api/articles/:id
- Delete article
- Requires admin role

GET /api/specialties
- Get list of all specialties and subtopics
- Public route

POST /api/specialties
- Add new specialty
- Requires admin role

POST /api/subtopics
- Add new subtopic to specialty
- Requires admin role

### Public Routes
GET /api/articles/random
- Get random article based on selected specialty/subtopics
- Public route

## Implementation Phases

1. Database Setup
   - Set up Vercel KV schemas
   - Create helper functions for article/specialty management

2. Admin Interface
   - Implement admin role checking with Clerk
   - Create protected admin routes
   - Build article management UI

3. Case Simulation Enhancement
   - Modify selection page to include new dropdown system
   - Implement random article selection
   - Integrate selected article with LLM prompt

4. Testing & Deployment
   - Test admin functionality
   - Test case simulation with new article system
   - Deploy to production

## Literature Review

To be described later.